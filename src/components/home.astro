---
const { persona } = Astro.props;
import Image from "astro/components/Image.astro";
import wsp from "../assets/whatsapp.svg";
import correo from "../assets/outlook.svg";
import contactos from "../assets/agregar.svg";
import llamar from "../assets/llamar.svg";
import logo from "../assets/logo.svg";
---

<div class="bg-container min-h-screen h-screen">
  {
    persona ? (
      <>
        <div class="w-full h-full flex flex-col items-center relative">
          <div class="image-container w-full h-1/3 relative flex justify-center items-center">
            <img
              src="/assets/fondo-foto.png"
              alt="Foto de fondo"
              class="absolute w-full h-full mx-auto z-1"
            />
            <img
              src={persona.imagen}
              alt="Imagen de la persona"
              class="w-55 h-60 mx-auto mt-10 z-2"
            />
            
          </div>
          <div class="plantilla-container absolute mt-8 top-1/4 h-2/3 w-full flex ">
            <img
              src="/assets/plantilla.png"
              alt="plantilla"
              class=" left-0  w-full h-full mx-auto z-3"
            />
            
          </div>
          <div class="second-container w-full text-center justify-center items-center flex flex-col z-4">
              <div class="text-container text-[var(--primary-color)] mb-4 text-center">
                <p class="uppercase name text-2xl font-bold">
                  <strong>
                    {persona.nombre} {persona.apellido}
                  </strong>
                </p>
                <p class="uppercase job">{persona.puesto}</p>
              </div>
              <div class="relative flex justify-center items-center mt-4">
                <div class="icons-container grid grid-cols-2 grid-rows-2 justify-center gap-8 ">
                  <a
                    class="flex flex-col items-center justify-center"
                    href={`tel:${persona.celular}`}
                    aria-label="LLamar por teléfono"
                  >
                    <Image src={llamar} alt="Correo" class="w-7 h-7 " />
                    <p class="item uppercase text-[var(--primary-color)]">
                      Teléfono
                    </p>
                  </a>
                  <a
                    class="flex flex-col items-center justify-center"
                    href={`https://wa.me/${persona.celular.replace(/\D/g, "")}`}
                    target="_blank"
                    rel="noopener noreferrer"
                    aria-label="Enviar mensaje por WhatsApp"
                  >
                    <Image
                      src={wsp}
                      alt="WhatsApp"
                      class="w-7 h-7 hover:scale-110 transition-transform"
                    />
                    <p class="item uppercase text-[var(--primary-color)]">
                      WhatsApp
                    </p>
                  </a>
                  <a
                    class="flex flex-col items-center justify-center"
                    href={`mailto:${persona.correo}`}
                    aria-label="Enviar correo"
                  >
                    <Image
                      src={correo}
                      alt="Correo"
                      class="w-7 h-7 hover:scale-110 transition-transform"
                    />
                    <p class="item uppercase text-[var(--primary-color)]">
                      Correo
                    </p>
                  </a>
                  <a
                    class="flex flex-col items-center justify-center"
                    href={`/contactos/${persona.id}.vcf`}
                    target="_blank"
                    aria-label="Guardar contacto"
                  >
                    <Image
                      src={contactos}
                      alt="Guardar contacto"
                      class="w-7 h-7 hover:scale-110 transition-transform"
                    />
                    <p class="item uppercase text-[var(--primary-color)]">
                      Agregar
                    </p>
                  </a>
                </div>
                <div class="absolute top-0 z-10">
                  <span class="absolute inset-0 w-[2px] h-40 bg-[var(--primary-color)]  origin-center" />
                  <span class="absolute inset-0 w-[2px] h-50 horizontal bg-[var(--primary-color)] -rotate-90 origin-center" />
                </div>
              </div>
              <Image src={logo} alt="Logo ITM" class="w-28 h-28 " />
            </div>
        </div>
      </>
    ) : (
      <div class="w-full h-full flex flex-col items-center justify-center">
        <Image src={logo} alt="Logo ITM" class="w-48 h-48 " />
        <p class="items-center justify-center font-bold text-center text-[var(--primary-color)] px-4">
          No se proporcionó información de la persona.
        </p>
      </div>
    )
  }
</div>
<style>
  p {
    font-size: 1.5rem;
    margin-top: 1rem;
  }
</style>
